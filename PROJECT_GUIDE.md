# ğŸ“‹ éœ²å¤©çŸ¿åŒºæ£€æµ‹å¹³å° - å®Œæ•´é¡¹ç›®æŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª**ç”Ÿäº§çº§Webåº”ç”¨å¹³å°**ï¼Œç”¨äºæ£€æµ‹å’Œåˆ†æéœ²å¤©çŸ¿åŒºçš„ç”Ÿæ€æŸæ¯å’Œæ¢å¤æƒ…å†µã€‚å®ƒæ•´åˆäº†ï¼š

- **MATLABç®—æ³•** (KNNåˆ†ç±» + DTWæ—¶é—´åºåˆ—åˆ†æ)
- **Pythonåç«¯** (Flask Webæ¡†æ¶)
- **JavaScriptå‰ç«¯** (ArcGISåœ°å›¾API + Chart.jså›¾è¡¨)
- **GeoTIFFæ …æ ¼æ•°æ®** (åœ°ç†ä¿¡æ¯å¤„ç†)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               æµè§ˆå™¨ (Client)                            â”‚
â”‚   ArcGIS Maps + Chart.js + HTML5                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ HTTP/REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Flask Web Server (Port 5000)                 â”‚
â”‚  - æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ç®¡ç†                                     â”‚
â”‚  - æ—¶é—´åºåˆ—æŸ¥è¯¢                                         â”‚
â”‚  - ç»“æœæ–‡ä»¶æœåŠ¡                                         â”‚
â”‚  - é”™è¯¯å¤„ç†å’Œæ—¥å¿—                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ MATLABå¼•æ“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MATLAB æ ¸å¿ƒç®—æ³• (R2020a+)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ detectMiningDisturbance.m (ä¸»å‡½æ•°)              â”‚  â”‚
â”‚  â”œâ”€ ljpl.m (æ•°æ®é¢„å¤„ç†)                            â”‚  â”‚
â”‚  â”œâ”€ creat_sample.m (æ ·æœ¬ç”Ÿæˆ)                      â”‚  â”‚
â”‚  â”œâ”€ knn.m (Kè¿‘é‚»åˆ†ç±»)                              â”‚  â”‚
â”‚  â”œâ”€ dtw.m (åŠ¨æ€æ—¶é—´è§„æ•´)                           â”‚  â”‚
â”‚  â””â”€ vegetation_recovery.m (æ¢å¤æ£€æµ‹)               â”‚  â”‚
â”‚  â””â”€ ...å…¶ä»–è¾…åŠ©è„šæœ¬                                â”‚  â”‚
â”‚                                                     â”‚  â”‚
â”‚  è¾“å…¥: NDVIæ—¶é—´åºåˆ— + è£¸ç…¤æ¦‚ç‡                      â”‚  â”‚
â”‚  è¾“å‡º: 7ä¸ªGeoTIFFç»“æœæ–‡ä»¶                           â”‚  â”‚
â”‚  è€—æ—¶: 1-10åˆ†é’Ÿ (å–å†³äºæ•°æ®å¤§å°)                    â”‚  â”‚
â”‚  å†…å­˜: 4GB+                                         â”‚  â”‚
â”‚                                                     â”‚  â”‚
â”‚  æ ¸å¿ƒç®—æ³•:                                          â”‚  â”‚
â”‚  1. æ•°æ®æ ‡å‡†åŒ–å’Œæ¸…ç†                                â”‚  â”‚
â”‚  2. æ ·æœ¬ç”Ÿæˆ (80%è®­ç»ƒ, 60%æœ‰æ•ˆ)                     â”‚  â”‚
â”‚  3. Kè¿‘é‚» (k=1) åˆ†ç±»æ‰°åŠ¨ç±»å‹                         â”‚  â”‚
â”‚  4. å¹´ä»½æå–å’Œè½¬æ¢                                  â”‚  â”‚
â”‚  5. ç©ºé—´æ»¤æ³¢å’ŒéªŒè¯                                  â”‚  â”‚
â”‚  â””â”€ ä¸è£¸ç…¤æ¦‚ç‡ç›¸äº¤éªŒè¯                              â”‚  â”‚
â”‚                                                     â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
mining-platform/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ QUICKSTART.md                # å¿«é€Ÿå¼€å§‹æŒ‡å— â­
â”œâ”€â”€ ğŸ“„ TROUBLESHOOTING.md           # æ•…éšœæ’é™¤æŒ‡å—
â”œâ”€â”€ ğŸ“„ DEPLOYMENT.md                # ç”Ÿäº§éƒ¨ç½²è¯´æ˜
â”‚
â”œâ”€â”€ ğŸš€ start.bat                    # Windowså¯åŠ¨è„šæœ¬ (åŒå‡»è¿è¡Œ)
â”œâ”€â”€ ğŸš€ start.sh                     # Linux/Macå¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ backend/                     # Python Flaskåç«¯
â”‚   â”œâ”€â”€ app.py                      # ä¸»åº”ç”¨ (150è¡Œ) - REST API
â”‚   â”œâ”€â”€ config.py                   # è·¯å¾„é…ç½®
â”‚   â”œâ”€â”€ matlab_runner.py            # MATLABå¼•æ“ç®¡ç†
â”‚   â”œâ”€â”€ run_app.py                  # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ requirements.txt            # Pythonä¾èµ–æ¸…å•
â”‚
â”œâ”€â”€ ğŸ“ frontend/                    # å‰ç«¯Webåº”ç”¨
â”‚   â”œâ”€â”€ index.html                  # é¡µé¢ç»“æ„ (HTML5)
â”‚   â”œâ”€â”€ main.js                     # äº¤äº’é€»è¾‘ (250è¡Œ) - ArcGIS/Chart.js
â”‚   â””â”€â”€ style.css                   # ç•Œé¢æ ·å¼
â”‚
â”œâ”€â”€ ğŸ“ matlab/                      # MATLABç®—æ³•å®ç°
â”‚   â”œâ”€â”€ detectMiningDisturbance.m   # æ ¸å¿ƒæ£€æµ‹å‡½æ•° â­
â”‚   â”œâ”€â”€ ljpl.m                      # æ•°æ®é¢„å¤„ç†
â”‚   â”œâ”€â”€ creat_sample.m              # æ ·æœ¬ç”Ÿæˆ
â”‚   â”œâ”€â”€ knn.m                       # Kè¿‘é‚»åˆ†ç±»
â”‚   â”œâ”€â”€ dtw.m                       # åŠ¨æ€æ—¶é—´è§„æ•´
â”‚   â”œâ”€â”€ vegetation_recovery.m       # æ¢å¤æ£€æµ‹
â”‚   â”œâ”€â”€ Run_Knn.m                   # KNNè¿è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ Run_Knn_Param.m             # å‚æ•°è°ƒæ•´è„šæœ¬
â”‚   â”œâ”€â”€ BWlvbo.m                    # äºŒå€¼å›¾åƒå¤„ç†
â”‚   â””â”€â”€ ...å…¶ä»–è¾…åŠ©è„šæœ¬
â”‚
â””â”€â”€ ğŸ“ data/                        # æ•°æ®å­˜å‚¨ç›®å½• (è‡ªåŠ¨åˆ›å»º)
    â”œâ”€â”€ uploads/                    # ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶
    â”‚   â””â”€â”€ <job_id>/
    â”‚       â”œâ”€â”€ ndvi.tif
    â”‚       â””â”€â”€ coal.tif
    â””â”€â”€ jobs/                       # æ£€æµ‹ç»“æœå­˜å‚¨
        â””â”€â”€ <job_id>/
            â”œâ”€â”€ mining_disturbance_mask.tif     (æ ¸å¿ƒ)
            â”œâ”€â”€ mining_disturbance_year.tif     (æ ¸å¿ƒ)
            â”œâ”€â”€ mining_recovery_year.tif        (æ ¸å¿ƒ)
            â”œâ”€â”€ potential_disturbance.tif
            â”œâ”€â”€ res_disturbance_type.tif
            â”œâ”€â”€ year_disturbance_raw.tif
            â””â”€â”€ year_recovery_raw.tif
```

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### ç”¨æˆ·æ“ä½œ â†’ Webå‰ç«¯ â†’ Flaskåç«¯ â†’ MATLABè®¡ç®— â†’ ç»“æœå¯è§†åŒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æµè§ˆå™¨  â”‚
â”‚ (å®¢æˆ·ç«¯)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. ä¸Šä¼ NDVI.tifå’Œcoal.tif
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flaskåº”ç”¨ (/api/upload)            â”‚
â”‚  - æ¥æ”¶å¤šéƒ¨åˆ†è¡¨å•æ•°æ®               â”‚
â”‚  - éªŒè¯æ–‡ä»¶æ ¼å¼                     â”‚
â”‚  - ç”Ÿæˆjob_id (UUID)                â”‚
â”‚  - å­˜å‚¨åˆ° data/uploads/<job_id>/   â”‚
â”‚  è¿”å›: {job_id, kind, path}         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. è§¦å‘æ£€æµ‹ (job_id, startyear)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flaskåº”ç”¨ (/api/run)               â”‚
â”‚  - éªŒè¯æ–‡ä»¶å®Œæ•´æ€§                   â”‚
â”‚  - è°ƒç”¨ MATLAB å¼•æ“                 â”‚
â”‚  - æ‰§è¡Œ detectMiningDisturbance()   â”‚
â”‚  è¿”å›: {outputs: {...}}             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 3. MATLAB è®¡ç®—
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MATLAB detectMiningDisturbance.m   â”‚
â”‚                                     â”‚
â”‚  æ­¥éª¤1: æ•°æ®é¢„å¤„ç†                  â”‚
â”‚   - è¯»å–NDVI GeoTIFF                â”‚
â”‚   - NaNå¤„ç†å’Œå€¼åŸŸæ ‡å‡†åŒ–             â”‚
â”‚   - è·å–åœ°ç†å‚è€ƒä¿¡æ¯                â”‚
â”‚                                     â”‚
â”‚  æ­¥éª¤2: æ ·æœ¬ç”Ÿæˆ                    â”‚
â”‚   - é€šè¿‡ljplå‡½æ•°æ ‡è®°æ ·æœ¬            â”‚
â”‚   - 80%è®­ç»ƒé›†, 60%æœ‰æ•ˆæ¯”ä¾‹          â”‚
â”‚                                     â”‚
â”‚  æ­¥éª¤3: KNNåˆ†ç±»                     â”‚
â”‚   - k=1æœ€è¿‘é‚»åˆ†ç±»                   â”‚
â”‚   - è¯†åˆ«æ‰°åŠ¨ç±»å‹ (38/39/40)         â”‚
â”‚                                     â”‚
â”‚  æ­¥éª¤4: å¹´ä»½è¯†åˆ«                    â”‚
â”‚   - æå–æ‰°åŠ¨å‘ç”Ÿçš„å¹´ä»½              â”‚
â”‚   - æå–æ¢å¤å¼€å§‹çš„å¹´ä»½              â”‚
â”‚                                     â”‚
â”‚  æ­¥éª¤5: ç©ºé—´æ»¤æ³¢                    â”‚
â”‚   - å½¢æ€å­¦å¼€è¿ç®— (disk=2)           â”‚
â”‚   - è¿é€šåˆ†é‡æ ‡è®° (bwlabel)          â”‚
â”‚   - æœ€å°é¢ç§¯è¿‡æ»¤ (1111åƒç´ )         â”‚
â”‚   - è£¸ç…¤æ¦‚ç‡éªŒè¯ (è£å‰ªä¸é«˜äº2%)    â”‚
â”‚                                     â”‚
â”‚  è¾“å‡º: 7ä¸ªGeoTIFFæ–‡ä»¶               â”‚
â”‚   - mining_disturbance_mask         â”‚
â”‚   - mining_disturbance_year         â”‚
â”‚   - mining_recovery_year            â”‚
â”‚   - potential_disturbance (ä¸­é—´)    â”‚
â”‚   - res_disturbance_type (ä¸­é—´)     â”‚
â”‚   - year_disturbance_raw (ä¸­é—´)     â”‚
â”‚   - year_recovery_raw (ä¸­é—´)        â”‚
â”‚                                     â”‚
â”‚  å†™å…¥: data/jobs/<job_id>/         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 4. å‰ç«¯åŠ è½½ç»“æœ
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‰ç«¯ main.js                       â”‚
â”‚  - è¯·æ±‚ /api/run è¿”å›å€¼             â”‚
â”‚  - è·å–7ä¸ªç»“æœæ–‡ä»¶URL               â”‚
â”‚  - åˆ›å»º RasterLayer å¯¹è±¡            â”‚
â”‚  - æ·»åŠ åˆ°ArcGISåœ°å›¾                 â”‚
â”‚  - æ˜¾ç¤ºå›¾å±‚åˆ—è¡¨æ§åˆ¶                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 5. ç”¨æˆ·äº¤äº’æŸ¥è¯¢
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·ç‚¹å‡»åœ°å›¾åƒå…ƒ                   â”‚
â”‚  (lon, lat) â†’ /api/ndvi-timeseries  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flaskåº”ç”¨ (/api/ndvi-timeseries)   â”‚
â”‚  - æ¥æ”¶ job_id, lon, lat, startyear â”‚
â”‚  - ä»NDVI.tifé‡‡æ ·æ—¶é—´åºåˆ—æ•°æ®       â”‚
â”‚  - ä»æ‰°åŠ¨å¹´ä»½.tifé‡‡æ ·åƒå…ƒå€¼         â”‚
â”‚  - ä»æ¢å¤å¹´ä»½.tifé‡‡æ ·åƒå…ƒå€¼         â”‚
â”‚  è¿”å›: {years, ndvi, dist_year, ... }
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ è¿”å›JSONæ•°æ®
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‰ç«¯æ˜¾ç¤ºç»“æœ                       â”‚
â”‚  - æ˜¾ç¤ºåæ ‡å’Œå¹´ä»½ä¿¡æ¯               â”‚
â”‚  - ä½¿ç”¨Chart.jsç»˜åˆ¶NDVIæ›²çº¿        â”‚
â”‚  - åœ¨åœ°å›¾ä¸Šå¼¹å‡ºä¿¡æ¯çª—å£             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ API å‚è€ƒ

### 1ï¸âƒ£ æ–‡ä»¶ä¸Šä¼ 

```
POST /api/upload
Content-Type: multipart/form-data

å‚æ•°:
  file: GeoTIFFæ–‡ä»¶ (å¿…éœ€)
  kind: "ndvi" æˆ– "coal" (å¿…éœ€)
  job_id: UUID (å¯é€‰ï¼Œç”¨äºå…³è”å¤šä¸ªæ–‡ä»¶)

è¿”å› (200 OK):
{
  "job_id": "a1b2c3d4-e5f6-7g8h-9i10-j11k12l13m14",
  "kind": "ndvi",
  "path": "F:\\æŒ‘æˆ˜æ¯\\mining-platform\\data\\uploads\\a1b2c3d4-e5f6...\\ndvi.tif"
}

é”™è¯¯ (400/500):
{
  "error": "ç¼ºå°‘ file å’Œ kind(ndvi|coal)"
}
```

### 2ï¸âƒ£ æ‰§è¡Œæ£€æµ‹

```
POST /api/run
Content-Type: application/json

å‚æ•°:
{
  "job_id": "a1b2c3d4-e5f6-7g8h-9i10-j11k12l13m14",
  "startyear": 2010
}

è¿”å› (200 OK):
{
  "job_id": "a1b2c3d4-e5f6-7g8h-9i10-j11k12l13m14",
  "outputs": {
    "mining_disturbance_mask": "/jobs/a1b2c3d4.../mining_disturbance_mask.tif",
    "mining_disturbance_year": "/jobs/a1b2c3d4.../mining_disturbance_year.tif",
    "mining_recovery_year": "/jobs/a1b2c3d4.../mining_recovery_year.tif",
    "potential_disturbance": "/jobs/a1b2c3d4.../potential_disturbance.tif",
    "res_disturbance_type": "/jobs/a1b2c3d4.../res_disturbance_type.tif",
    "year_disturbance_raw": "/jobs/a1b2c3d4.../year_disturbance_raw.tif",
    "year_recovery_raw": "/jobs/a1b2c3d4.../year_recovery_raw.tif"
  }
}

æ³¨æ„: å¤„ç†æ—¶é—´ 1-10 åˆ†é’Ÿï¼Œå–å†³äºæ–‡ä»¶å¤§å°
```

### 3ï¸âƒ£ æŸ¥è¯¢NDVIæ—¶é—´åºåˆ—

```
GET /api/ndvi-timeseries?job_id=xxx&lon=110.5&lat=35.5&startyear=2010

å‚æ•°:
  job_id: ä½œä¸šID (å¿…éœ€)
  lon: ç»åº¦ï¼ŒèŒƒå›´ [-180, 180] (å¿…éœ€)
  lat: çº¬åº¦ï¼ŒèŒƒå›´ [-90, 90] (å¿…éœ€)
  startyear: èµ·å§‹å¹´ä»½ (å¯é€‰ï¼Œé»˜è®¤2010)

è¿”å› (200 OK):
{
  "job_id": "a1b2c3d4-e5f6-7g8h-9i10-j11k12l13m14",
  "lon": 110.5,
  "lat": 35.5,
  "years": [2010, 2011, 2012, 2013, ..., 2023],
  "ndvi": [0.3, 0.35, 0.4, 0.35, ..., 0.25],
  "disturbance_year": 2015,
  "recovery_year": 2018
}

è¯´æ˜:
  - years: å¹´ä»½æ•°ç»„ï¼Œé•¿åº¦ç­‰äºNDVIæ³¢æ®µæ•°
  - ndvi: NDVIå€¼æ•°ç»„ï¼ŒèŒƒå›´[0,1]æˆ–NaNè¡¨ç¤ºæ— æ•ˆ
  - disturbance_year: null è¡¨ç¤ºè¯¥åƒå…ƒæ— æ‰°åŠ¨
  - recovery_year: null è¡¨ç¤ºè¯¥åƒå…ƒæ— æ¢å¤
```

### 4ï¸âƒ£ è·å–ç»“æœæ–‡ä»¶

```
GET /jobs/<job_id>/<filename>

ç¤ºä¾‹:
  GET /jobs/a1b2c3d4-e5f6.../mining_disturbance_year.tif

è¿”å›: GeoTIFFæ–‡ä»¶äºŒè¿›åˆ¶æ•°æ®

å¯ç”¨çš„filename:
  - mining_disturbance_mask.tif
  - mining_disturbance_year.tif
  - mining_recovery_year.tif
  - potential_disturbance.tif
  - res_disturbance_type.tif
  - year_disturbance_raw.tif
  - year_recovery_raw.tif
```

---

## ğŸ“Š æ•°æ®æ ¼å¼è¯´æ˜

### è¾“å…¥æ•°æ® (GeoTIFF)

#### NDVIæ—¶åº
```
æ ¼å¼: GeoTIFF (.tif)
æ³¢æ®µæ•°: Nä¸ª (æ¯æ³¢æ®µå¯¹åº”ä¸€ä¸ªå¹´ä»½)
æ•°æ®ç±»å‹: Float32
åæ ‡å‚è€ƒ: EPSG:4326 (WGS84) æˆ–å…¶ä»–æœ‰æ•ˆCRS
å€¼åŸŸ: 0-1 (NDVIèŒƒå›´)
NoData: 0 æˆ– NaN
ä¾‹: 1990-2023å…±34ä¸ªæ³¢æ®µ
```

#### è£¸ç…¤æ¦‚ç‡
```
æ ¼å¼: GeoTIFF (.tif)
æ³¢æ®µæ•°: ä¸NDVIç›¸åŒ
æ•°æ®ç±»å‹: Float32
åæ ‡å‚è€ƒ: ä¸NDVIç›¸åŒ
å€¼åŸŸ: 0-1 (æ¦‚ç‡)
åœ°ç†èŒƒå›´: ä¸NDVIå®Œå…¨ç›¸åŒ
```

### è¾“å‡ºæ•°æ® (GeoTIFF)

| æ–‡ä»¶ | æ•°æ®ç±»å‹ | å€¼åŸŸ | å«ä¹‰ |
|------|---------|------|------|
| `mining_disturbance_mask.tif` | UInt8 | 0/1 | 0=éçŸ¿åŒº, 1=çŸ¿åŒº |
| `mining_disturbance_year.tif` | UInt16 | 0-9999 | 0=æ— æ‰°åŠ¨, 2010-2023=æ‰°åŠ¨å¹´ä»½ |
| `mining_recovery_year.tif` | UInt16 | 0-9999 | 0=æ— æ¢å¤, 2010-2023=æ¢å¤å¹´ä»½ |
| `potential_disturbance.tif` | UInt32 | 0-N | 0=èƒŒæ™¯, 1-N=è¿é€šåˆ†é‡æ ‡ç­¾ |
| `res_disturbance_type.tif` | UInt8 | 0-41 | 0=èƒŒæ™¯, 38/39/40=æ‰°åŠ¨ç±»å‹ |
| `year_disturbance_raw.tif` | UInt16 | 1-N | åŸå§‹æ‰°åŠ¨å¹´ä»½ (æœªè¿‡æ»¤) |
| `year_recovery_raw.tif` | UInt16 | 1-N | åŸå§‹æ¢å¤å¹´ä»½ (æœªè¿‡æ»¤) |

---

## ğŸ’» ç³»ç»Ÿè¦æ±‚

| ç»„ä»¶ | æœ€ä½ | æ¨è | æµ‹è¯• |
|------|------|------|------|
| OS | Windows 10 / Linux / macOS | Windows 11 / Ubuntu 20+ / macOS 12+ | Win11 Pro |
| Python | 3.8 | 3.10+ | 3.12.7 (Anaconda) |
| MATLAB | R2020a | R2022a+ | 2024b |
| å†…å­˜ | 4GB | 8GB+ | 16GB |
| ç¡¬ç›˜ | 500MB | 1GB+ | 100GB+ |
| ç½‘ç»œ | å¯é€‰ (ä»…ç”¨äºArcGISåœ°å›¾) | 100Mbps+ | å¿…éœ€ |

---

## ğŸ” å®‰å…¨æ€§å’Œéƒ¨ç½²

### å¼€å‘ç¯å¢ƒ (å½“å‰é…ç½®)

âœ… é€‚ç”¨äº:
- æœ¬åœ°å•ç”¨æˆ·ä½¿ç”¨
- æµ‹è¯•å’Œæ¼”ç¤º
- æ•™å­¦å’Œç ”ç©¶

âŒ ä¸é€‚ç”¨äº:
- ç”Ÿäº§ç¯å¢ƒ
- å¤šç”¨æˆ·å¹¶å‘
- äº’è”ç½‘å¯¹å¤–æš´éœ²

### ç”Ÿäº§éƒ¨ç½²å»ºè®®

å‚è€ƒ `DEPLOYMENT.md` æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- Gunicorn + Nginxåå‘ä»£ç†
- ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- HTTPSåŠ å¯†é€šä¿¡
- äº‘å­˜å‚¨é›†æˆ
- ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ

---

## ğŸ“ˆ æ€§èƒ½æ•°æ®

åŸºäºæµ‹è¯•æ•°æ® (512Ã—512åƒç´ , 34æ³¢æ®µNDVI):

| æ“ä½œ | è€—æ—¶ | å†…å­˜ |
|------|------|------|
| æ–‡ä»¶ä¸Šä¼  | <1ç§’ | 50MB |
| MATLABè®¡ç®— | 2-5åˆ†é’Ÿ | 2-3GB |
| åœ°å›¾åŠ è½½ | 1-3ç§’ | 50-100MB |
| æ—¶é—´åºåˆ—æŸ¥è¯¢ | <100ms | 10MB |

å¤§æ–‡ä»¶ä¼°ç®— (2048Ã—2048åƒç´ , 34æ³¢æ®µ):
- MATLABè€—æ—¶: 20-40åˆ†é’Ÿ
- å†…å­˜éœ€æ±‚: 8GB+
- å»ºè®®ä½¿ç”¨é«˜æ€§èƒ½è®¡ç®—æœº

---

## ğŸ“š è¿›ä¸€æ­¥é˜…è¯»

- **QUICKSTART.md** - å¿«é€Ÿå¼€å§‹ (5åˆ†é’Ÿ)
- **TROUBLESHOOTING.md** - æ•…éšœæ’é™¤ (è¯¦ç»†)
- **DEPLOYMENT.md** - ç”Ÿäº§éƒ¨ç½² (ä¸“ä¸š)
- **README.md** - é¡¹ç›®è¯´æ˜ (å®Œæ•´)

---

## ğŸ¤ è´¡çŒ®å’Œæ”¹è¿›å»ºè®®

æ¬¢è¿æ”¹è¿›å»ºè®®ï¼

è®¡åˆ’ä¸­çš„åŠŸèƒ½:
- [ ] å®æ—¶è¿›åº¦åé¦ˆ
- [ ] æ‰¹é‡å¤„ç†æ¨¡å¼
- [ ] ç»“æœå¯¹æ¯”åˆ†æ
- [ ] å¯¼å‡ºæŠ¥å‘ŠåŠŸèƒ½
- [ ] äº‘å­˜å‚¨é›†æˆ
- [ ] ç§»åŠ¨ç«¯é€‚é…

---

**æœ€åæ›´æ–°**: 2026-01-31
**çŠ¶æ€**: âœ… å®Œå…¨åŠŸèƒ½æµ‹è¯•é€šè¿‡
